<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Bentobox Grid Layout - Legacy Concierge</title>
    <link rel="icon" href="/favicon.svg" />

    <link rel="stylesheet" href="/shared/theme/style.css" />
    <link rel="stylesheet" href="/shared/theme/layouts/bentobox.css" />

    <style>
      /* Bentobox Grid Layout Styles */
      .page-header {
        text-align: center;
        padding: 3rem 0 2rem;
        max-width: 800px;
        margin: 0 auto;
      }

      .page-header h1 {
        font-size: 2.5rem;
        margin-bottom: 1rem;
        color: var(--text-primary);
      }

      .page-header p {
        font-size: 1.2rem;
        color: var(--text-secondary);
        line-height: 1.6;
      }

      /* Bento Grid Specific Styles */
      .bento-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        grid-auto-rows: 250px;
        gap: 1.5rem;
        margin: 2rem 0;
      }

      .bento-card {
        background: var(--bg-tertiary);
        border: 1px solid var(--border-color);
        border-radius: 12px;
        padding: 2rem;
        display: flex;
        flex-direction: column;
        justify-content: space-between;
        overflow: hidden;
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        cursor: pointer;
        position: relative;
      }

      .bento-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 12px 24px var(--shadow-color);
        border-color: var(--accent-primary);
      }

      .bento-card-inner {
        position: relative;
        z-index: 1;
      }

      .bento-card .icon {
        font-size: 2.5rem;
        margin-bottom: 1rem;
        display: block;
      }

      .bento-card h3 {
        font-size: 1.3rem;
        margin-bottom: 0.75rem;
        color: var(--text-primary);
      }

      .bento-card p {
        color: var(--text-secondary);
        font-size: 0.95rem;
        line-height: 1.6;
      }

      /* Size variants */
      .bento-card.large {
        grid-column: span 2;
        grid-row: span 2;
      }

      .bento-card.wide {
        grid-column: span 2;
      }

      .bento-card.tall {
        grid-row: span 2;
      }

      /* Featured card style */
      .bento-card.featured {
        background: linear-gradient(
          135deg,
          var(--accent-primary) 0%,
          var(--accent-secondary) 100%
        );
        color: white;
      }

      .bento-card.featured h3,
      .bento-card.featured p {
        color: white;
      }

      /* Image card style */
      .bento-card.has-image {
        padding: 0;
        overflow: hidden;
      }

      .bento-card.has-image .bento-image {
        width: 100%;
        height: 100%;
        object-fit: cover;
        position: absolute;
        top: 0;
        left: 0;
        z-index: 0;
      }

      .bento-card.has-image .bento-card-inner {
        background: linear-gradient(
          to top,
          rgba(0, 0, 0, 0.8) 0%,
          rgba(0, 0, 0, 0.2) 50%,
          transparent 100%
        );
        height: 100%;
        padding: 2rem;
        display: flex;
        flex-direction: column;
        justify-content: flex-end;
        color: white;
      }

      .bento-card.has-image h3,
      .bento-card.has-image p {
        color: white;
      }

      /* Responsive */
      @media (max-width: 768px) {
        .bento-grid {
          grid-template-columns: 1fr;
          grid-auto-rows: 200px;
        }

        .bento-card.large,
        .bento-card.wide,
        .bento-card.tall {
          grid-column: span 1;
          grid-row: span 1;
        }
      }

      /* Reduced motion */
      @media (prefers-reduced-motion: reduce) {
        .bento-card {
          transition: none;
        }

        .bento-card:hover {
          transform: none;
        }
      }

      /* Filter/Category Bar */
      .filter-bar {
        display: flex;
        gap: 1rem;
        justify-content: center;
        flex-wrap: wrap;
        margin: 2rem 0;
        padding: 1rem 0;
      }

      .filter-btn {
        padding: 0.75rem 1.5rem;
        background: var(--bg-tertiary);
        border: 1px solid var(--border-color);
        border-radius: 50px;
        color: var(--text-secondary);
        cursor: pointer;
        transition: all 0.3s ease;
        font-size: 0.95rem;
        font-weight: 500;
      }

      .filter-btn:hover {
        background: var(--accent-primary);
        color: white;
        border-color: var(--accent-primary);
      }

      .filter-btn.active {
        background: var(--accent-primary);
        color: white;
        border-color: var(--accent-primary);
      }
    </style>

    <script type="module">
      import { initializeComponents } from "/common/core/component-loader.js";

      document.addEventListener("DOMContentLoaded", async () => {
        await initializeComponents(["header", "footer", "cards"]);

        // Simple filter functionality
        setupFilters();
      });

      function setupFilters() {
        const filterBtns = document.querySelectorAll(".filter-btn");
        const cards = document.querySelectorAll(".bento-card");

        filterBtns.forEach((btn) => {
          btn.addEventListener("click", () => {
            const filter = btn.getAttribute("data-filter");

            // Update active state
            filterBtns.forEach((b) => b?.classList.remove("active"));
            btn?.classList.add("active");

            // Filter cards
            cards.forEach((card) => {
              const category = card.getAttribute("data-category");

              if (filter === "all" || category === filter) {
                card.style.display = "flex";
              } else {
                card.style.display = "none";
              }
            });
          });
        });
      }
    </script>

    <script src="/common/services/theme.js"></script>
    <script src="/common/services/i18n.js"></script>
    <script type="module">
      import { loadTemplates } from "/common/core/component-loader.js";
      loadTemplates(["header", "footer"], true);
    </script>
  </head>

  <body itemscope itemtype="http://schema.org/CollectionPage">
    <a href="#main" class="skip-link" data-i18n="accessibility.skipToMain"></a>

    <lc-header solid></lc-header>

    <main role="main" id="main">
      <div class="container">
        <!-- Page Header -->
        <header class="page-header">
          <h1 data-i18n="bentobox.title">Our Services & Expertise</h1>
          <p data-i18n="bentobox.subtitle">
            Explore our comprehensive range of in-home nursing services and
            specialized care areas
          </p>
        </header>

        <!-- Filter Bar (Optional) -->
        <nav class="filter-bar" aria-label="Filter services">
          <button
            class="filter-btn active"
            data-filter="all"
            data-i18n="bentobox.filters.all"
          >
            All Services
          </button>
          <button
            class="filter-btn"
            data-filter="treatments"
            data-i18n="bentobox.filters.treatments"
          >
            Treatments
          </button>
          <button
            class="filter-btn"
            data-filter="expertise"
            data-i18n="bentobox.filters.expertise"
          >
            Expertise
          </button>
          <button
            class="filter-btn"
            data-filter="specialty"
            data-i18n="bentobox.filters.specialty"
          >
            Specialty Care
          </button>
        </nav>

        <!-- Bentobox Grid -->
        <div class="bento-grid">
          <!-- Large Featured Card -->
          <article class="bento-card large featured" data-category="treatments">
            <div class="bento-card-inner">
              <lc-icon
                name="home"
                size="large"
                color="primary"
                aria-label="In-home care"
              ></lc-icon>
              <h3 data-i18n="bentobox.cards.postOp.title">Post-Op Recovery</h3>
              <p data-i18n="bentobox.cards.postOp.description">
                Expert post-surgical care and rehabilitation in the comfort of
                your home. Our nurses provide comprehensive support during your
                recovery journey.
              </p>
            </div>
          </article>

          <!-- Regular Cards -->
          <article class="bento-card" data-category="treatments">
            <div class="bento-card-inner">
              <lc-icon
                name="activity"
                size="medium"
                color="primary"
                aria-label="Mental health support"
              ></lc-icon>
              <h3 data-i18n="bentobox.cards.mentalHealth.title">
                Mental Health
              </h3>
              <p data-i18n="bentobox.cards.mentalHealth.description">
                Compassionate mental health support and counseling services.
              </p>
            </div>
          </article>

          <article class="bento-card" data-category="treatments">
            <div class="bento-card-inner">
              <lc-icon
                name="heart"
                size="medium"
                color="primary"
                aria-label="IV therapy services"
              ></lc-icon>
              <h3 data-i18n="bentobox.cards.ivTherapy.title">IV Therapy</h3>
              <p data-i18n="bentobox.cards.ivTherapy.description">
                Professional in-home infusion and IV therapy services.
              </p>
            </div>
          </article>

          <!-- Tall Card -->
          <article class="bento-card tall" data-category="expertise">
            <div class="bento-card-inner">
              <lc-icon
                name="shield-success"
                size="medium"
                color="primary"
                aria-label="Alzheimer's care"
              ></lc-icon>
              <h3 data-i18n="bentobox.cards.alzheimers.title">
                Alzheimer's Care
              </h3>
              <p data-i18n="bentobox.cards.alzheimers.description">
                Specialized care for Alzheimer's patients with experienced,
                compassionate nurses who understand the unique challenges.
              </p>
            </div>
          </article>

          <!-- Wide Card with Image -->
          <article class="bento-card wide has-image" data-category="expertise">
            <img
              src="/shared/assets/media/bento-nursing.jpg"
              alt="Nursing Care"
              class="bento-image"
            />
            <div class="bento-card-inner">
              <h3 data-i18n="bentobox.cards.oncology.title">Oncology Care</h3>
              <p data-i18n="bentobox.cards.oncology.description">
                Compassionate support during cancer treatment and recovery.
              </p>
            </div>
          </article>

          <article class="bento-card" data-category="expertise">
            <div class="bento-card-inner">
              <lc-icon
                name="heart"
                size="medium"
                color="primary"
                aria-label="Cardiac care"
              ></lc-icon>
              <h3 data-i18n="bentobox.cards.cardiac.title">Cardiac Care</h3>
              <p data-i18n="bentobox.cards.cardiac.description">
                Heart disease management and monitoring.
              </p>
            </div>
          </article>

          <article class="bento-card" data-category="specialty">
            <div class="bento-card-inner">
              <lc-icon
                name="activity"
                size="medium"
                color="primary"
                aria-label="Diabetes care"
              ></lc-icon>
              <h3 data-i18n="bentobox.cards.diabetes.title">Diabetes Care</h3>
              <p data-i18n="bentobox.cards.diabetes.description">
                Comprehensive diabetes management and education.
              </p>
            </div>
          </article>

          <article class="bento-card" data-category="treatments">
            <div class="bento-card-inner">
              <lc-icon
                name="shield-success"
                size="medium"
                color="primary"
                aria-label="Pain management"
              ></lc-icon>
              <h3 data-i18n="bentobox.cards.painManagement.title">
                Pain Management
              </h3>
              <p data-i18n="bentobox.cards.painManagement.description">
                Advanced pain relief and management strategies.
              </p>
            </div>
          </article>

          <!-- Add more cards as needed -->
        </div>
      </div>
    </main>

    <lc-footer></lc-footer>

    <lc-google-tag disabled></lc-google-tag>

    <!-- Component System -->
    <script type="module">
      import { loadTemplates } from "/common/core/component-loader.js";

      // Load templates and initialize components
      (async () => {
        try {
          // Load all required templates first
          const templateResults = await loadTemplates(
            ["header", "footer", "cards"],
            true
          );
          const allLoaded = templateResults.every((result) => result === true);

          if (!allLoaded) {
            console.error("✗ Some templates failed to load:", templateResults);
            console.error("  Check the console for fetch errors above");
            return;
          }

          console.log("✓ All component templates loaded successfully");

          // Import component scripts
          await Promise.all([
            import("/common/components/lc-header.js"),
            import("/common/components/lc-footer.js"),
            import("/common/components/lc-card.js"),
            import("/common/components/lc-icon.js"),
          ]);
          console.log("✓ Component scripts loaded successfully");

          // Wait a tick for components to render
          await new Promise((resolve) => setTimeout(resolve, 100));

          // Re-apply i18n translations to components
          if (window.applyTranslations) {
            await window.applyTranslations();
            console.log("✓ i18n translations applied to components");
          }

          // Setup theme toggle (now that component has rendered)
          if (window.setupThemeToggle) {
            window.setupThemeToggle();
          }

          // Setup language toggle (now that component has rendered)
          const languageToggle = document.querySelector(".language-toggle");
          if (languageToggle && window.switchLanguage) {
            languageToggle.addEventListener("click", () => {
              const currentLang = document.documentElement.lang;
              const newLang = currentLang === "en" ? "es" : "en";
              window.switchLanguage(newLang);
            });
            console.log("✓ Language toggle initialized");
          }
        } catch (error) {
          console.error("Failed to initialize components:", error);
        }
      })();
    </script>
  </body>
</html>
