<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Form Components - Legacy Concierge</title>

  <!-- Design Tokens -->
  <link rel="stylesheet" href="../tokens/design-tokens.css">
  <link rel="stylesheet" href="../tokens/component-tokens.css">
  <link rel="stylesheet" href="../tokens/base.css">

  <style>
    body {
      margin: 0;
      min-height: 100vh;
      padding: var(--space-8) var(--space-4);
      background: var(--bg-page);
    }

    .demo-header {
      max-width: var(--container-xl);
      margin: 0 auto var(--space-12);
      text-align: center;
    }

    .demo-header__title {
      font-family: var(--font-family-serif);
      font-size: var(--font-size-4xl);
      font-weight: var(--font-weight-bold);
      color: var(--text-primary);
      margin: 0 0 var(--space-3);
    }

    .demo-header__description {
      font-size: var(--font-size-lg);
      color: var(--text-secondary);
      margin: 0;
    }

    .demo-section {
      max-width: var(--container-md);
      margin: 0 auto var(--space-16);
      padding: var(--space-8);
      background: var(--bg-surface);
      border: 1px solid var(--border-default);
      border-radius: var(--radius-xl);
      box-shadow: var(--shadow-card);
    }

    .demo-section__title {
      font-family: var(--font-family-serif);
      font-size: var(--font-size-2xl);
      font-weight: var(--font-weight-bold);
      color: var(--text-primary);
      margin: 0 0 var(--space-2);
    }

    .demo-section__description {
      font-size: var(--font-size-base);
      color: var(--text-secondary);
      margin: 0 0 var(--space-8);
    }

    .demo-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: var(--space-6);
      margin-bottom: var(--space-6);
    }

    .demo-output {
      margin-top: var(--space-6);
      padding: var(--space-4);
      background: var(--bg-surface-secondary);
      border-radius: var(--radius-base);
      font-family: var(--font-family-mono);
      font-size: var(--font-size-sm);
      color: var(--text-secondary);
    }

    .demo-output__title {
      font-weight: var(--font-weight-semibold);
      margin-bottom: var(--space-2);
    }

    .demo-output__content {
      white-space: pre-wrap;
      word-break: break-word;
    }

    .radio-group, .checkbox-group {
      display: flex;
      flex-direction: column;
      gap: var(--space-3);
    }

    .form-row {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: var(--space-4);
    }

    @media (max-width: 640px) {
      .form-row {
        grid-template-columns: 1fr;
      }
    }
  </style>

  <!-- Load utilities -->
  <script type="module">
    import '../utilities/path-resolver.js';
    import '../utilities/theme-manager.js';
  </script>

  <!-- Load components -->
  <script type="module" src="../components/base/Component.js"></script>
  <script type="module" src="../components/atomic/lc-button.js"></script>
  <script type="module" src="../components/forms/lc-input.js"></script>
  <script type="module" src="../components/forms/lc-textarea.js"></script>
  <script type="module" src="../components/forms/lc-checkbox.js"></script>
  <script type="module" src="../components/forms/lc-radio.js"></script>
  <script type="module" src="../components/forms/lc-select.js"></script>
  <script type="module" src="../components/forms/lc-form.js"></script>
</head>
<body>

  <!-- Header -->
  <header class="demo-header">
    <h1 class="demo-header__title">Form Components</h1>
    <p class="demo-header__description">
      Progressive validation, accessibility-first form controls with WCAG 2.2 AAA compliance
    </p>
  </header>

  <!-- Text Input Component -->
  <section class="demo-section">
    <h2 class="demo-section__title">Text Input</h2>
    <p class="demo-section__description">
      Text input fields with real-time validation, multiple types, and icon support.
    </p>

    <lc-input
      name="username"
      label="Username"
      placeholder="Enter your username"
      help="Choose a unique username"
      required
      minlength="3"
      maxlength="20"
    ></lc-input>

    <lc-input
      name="email"
      type="email"
      label="Email Address"
      placeholder="you@example.com"
      required
      icon-left="envelope"
    ></lc-input>

    <lc-input
      name="password"
      type="password"
      label="Password"
      placeholder="Enter your password"
      required
      minlength="8"
      icon-left="lock"
    ></lc-input>

    <lc-input
      name="website"
      type="url"
      label="Website"
      placeholder="https://example.com"
      icon-left="globe"
    ></lc-input>

    <div class="form-row">
      <lc-input
        name="small"
        label="Small Size"
        size="sm"
        placeholder="Small input"
      ></lc-input>

      <lc-input
        name="large"
        label="Large Size"
        size="lg"
        placeholder="Large input"
      ></lc-input>
    </div>

    <lc-input
      name="disabled"
      label="Disabled Input"
      value="Cannot edit this"
      disabled
    ></lc-input>

    <lc-input
      name="readonly"
      label="Read-only Input"
      value="Can read but not edit"
      readonly
    ></lc-input>

    <lc-input
      name="error"
      label="Input with Error"
      value="invalid@"
      error="Please enter a valid email address"
    ></lc-input>

    <lc-input
      name="success"
      label="Input with Success"
      value="success@example.com"
      success="Email is available"
    ></lc-input>
  </section>

  <!-- Textarea Component -->
  <section class="demo-section">
    <h2 class="demo-section__title">Textarea</h2>
    <p class="demo-section__description">
      Multi-line text input with character counting and auto-resize capability.
    </p>

    <lc-textarea
      name="message"
      label="Message"
      placeholder="Tell us more..."
      help="Share your thoughts with us"
      rows="4"
    ></lc-textarea>

    <lc-textarea
      name="limited"
      label="Limited Length"
      placeholder="Maximum 200 characters"
      maxlength="200"
      minlength="10"
      required
      rows="3"
    ></lc-textarea>

    <lc-textarea
      name="autoresize"
      label="Auto-resize Textarea"
      placeholder="This textarea will grow as you type"
      auto-resize
      rows="2"
    ></lc-textarea>

    <lc-textarea
      name="no-resize"
      label="No Manual Resize"
      placeholder="You cannot manually resize this"
      resize="false"
      rows="3"
    ></lc-textarea>
  </section>

  <!-- Checkbox Component -->
  <section class="demo-section">
    <h2 class="demo-section__title">Checkbox</h2>
    <p class="demo-section__description">
      Checkbox inputs with indeterminate state support for "select all" functionality.
    </p>

    <lc-checkbox
      name="terms"
      value="accepted"
      label="I accept the terms and conditions"
      required
    ></lc-checkbox>

    <lc-checkbox
      name="newsletter"
      value="subscribed"
      label="Subscribe to newsletter"
      help="Receive updates about new features"
    ></lc-checkbox>

    <lc-checkbox
      name="checked"
      value="checked"
      label="Pre-checked checkbox"
      checked
    ></lc-checkbox>

    <div class="checkbox-group">
      <h3 style="font-size: var(--font-size-base); font-weight: var(--font-weight-semibold); margin: var(--space-4) 0 var(--space-2);">Checkbox Group</h3>
      <lc-checkbox
        name="features"
        value="feature1"
        label="Feature 1"
      ></lc-checkbox>
      <lc-checkbox
        name="features"
        value="feature2"
        label="Feature 2"
      ></lc-checkbox>
      <lc-checkbox
        name="features"
        value="feature3"
        label="Feature 3"
      ></lc-checkbox>
    </div>

    <div class="form-row">
      <lc-checkbox
        name="small-check"
        value="small"
        label="Small checkbox"
        size="sm"
      ></lc-checkbox>

      <lc-checkbox
        name="large-check"
        value="large"
        label="Large checkbox"
        size="lg"
      ></lc-checkbox>
    </div>

    <lc-checkbox
      name="disabled-check"
      value="disabled"
      label="Disabled checkbox"
      disabled
    ></lc-checkbox>

    <lc-checkbox
      name="indeterminate"
      value="indeterminate"
      label="Indeterminate checkbox"
      indeterminate
    ></lc-checkbox>
  </section>

  <!-- Radio Button Component -->
  <section class="demo-section">
    <h2 class="demo-section__title">Radio Button</h2>
    <p class="demo-section__description">
      Radio button inputs for mutually exclusive selections.
    </p>

    <div class="radio-group">
      <h3 style="font-size: var(--font-size-base); font-weight: var(--font-weight-semibold); margin: 0 0 var(--space-2);">Select a Plan</h3>
      <lc-radio
        name="plan"
        value="free"
        label="Free Plan - $0/month"
      ></lc-radio>
      <lc-radio
        name="plan"
        value="basic"
        label="Basic Plan - $9/month"
        checked
      ></lc-radio>
      <lc-radio
        name="plan"
        value="pro"
        label="Pro Plan - $29/month"
      ></lc-radio>
      <lc-radio
        name="plan"
        value="enterprise"
        label="Enterprise Plan - Contact us"
        disabled
      ></lc-radio>
    </div>

    <div class="radio-group" style="margin-top: var(--space-6);">
      <h3 style="font-size: var(--font-size-base); font-weight: var(--font-weight-semibold); margin: 0 0 var(--space-2);">Contact Preference</h3>
      <lc-radio
        name="contact"
        value="email"
        label="Email"
        help="We'll send updates to your email"
        checked
      ></lc-radio>
      <lc-radio
        name="contact"
        value="phone"
        label="Phone"
        help="We'll call you during business hours"
      ></lc-radio>
      <lc-radio
        name="contact"
        value="sms"
        label="SMS"
        help="Receive text messages"
      ></lc-radio>
    </div>

    <div class="radio-group" style="margin-top: var(--space-6);">
      <h3 style="font-size: var(--font-size-base); font-weight: var(--font-weight-semibold); margin: 0 0 var(--space-2);">Sizes</h3>
      <lc-radio
        name="size-demo"
        value="small"
        label="Small radio"
        size="sm"
      ></lc-radio>
      <lc-radio
        name="size-demo"
        value="base"
        label="Base radio (default)"
        size="base"
        checked
      ></lc-radio>
      <lc-radio
        name="size-demo"
        value="large"
        label="Large radio"
        size="lg"
      ></lc-radio>
    </div>
  </section>

  <!-- Select Component -->
  <section class="demo-section">
    <h2 class="demo-section__title">Select Dropdown</h2>
    <p class="demo-section__description">
      Custom select dropdown with search/filter capability and keyboard navigation.
    </p>

    <lc-select
      name="country"
      label="Country"
      placeholder="Select a country"
      required
      options='[
        {"label": "United States", "value": "us"},
        {"label": "Canada", "value": "ca"},
        {"label": "United Kingdom", "value": "uk"},
        {"label": "Germany", "value": "de"},
        {"label": "France", "value": "fr"},
        {"label": "Spain", "value": "es"},
        {"label": "Italy", "value": "it"},
        {"label": "Australia", "value": "au"},
        {"label": "Japan", "value": "jp"},
        {"label": "China", "value": "cn"}
      ]'
    ></lc-select>

    <lc-select
      name="searchable-country"
      label="Country (Searchable)"
      placeholder="Search for a country"
      searchable
      help="Start typing to filter options"
      options='[
        {"label": "United States", "value": "us"},
        {"label": "Canada", "value": "ca"},
        {"label": "United Kingdom", "value": "uk"},
        {"label": "Germany", "value": "de"},
        {"label": "France", "value": "fr"},
        {"label": "Spain", "value": "es"},
        {"label": "Italy", "value": "it"},
        {"label": "Australia", "value": "au"},
        {"label": "Japan", "value": "jp"},
        {"label": "China", "value": "cn"},
        {"label": "India", "value": "in"},
        {"label": "Brazil", "value": "br"},
        {"label": "Mexico", "value": "mx"},
        {"label": "South Korea", "value": "kr"},
        {"label": "Netherlands", "value": "nl"}
      ]'
    ></lc-select>

    <lc-select
      name="category"
      label="Category"
      value="technology"
      options='[
        {"label": "Technology", "value": "technology"},
        {"label": "Business", "value": "business"},
        {"label": "Health", "value": "health"},
        {"label": "Education", "value": "education"},
        {"label": "Entertainment", "value": "entertainment"}
      ]'
    ></lc-select>

    <div class="form-row">
      <lc-select
        name="small-select"
        label="Small Select"
        size="sm"
        options='[
          {"label": "Option 1", "value": "1"},
          {"label": "Option 2", "value": "2"}
        ]'
      ></lc-select>

      <lc-select
        name="large-select"
        label="Large Select"
        size="lg"
        options='[
          {"label": "Option 1", "value": "1"},
          {"label": "Option 2", "value": "2"}
        ]'
      ></lc-select>
    </div>

    <lc-select
      name="disabled-select"
      label="Disabled Select"
      disabled
      value="option1"
      options='[
        {"label": "Option 1", "value": "option1"},
        {"label": "Option 2", "value": "option2"}
      ]'
    ></lc-select>

    <lc-select
      name="with-disabled-options"
      label="Select with Disabled Options"
      options='[
        {"label": "Available Option 1", "value": "1"},
        {"label": "Disabled Option", "value": "2", "disabled": true},
        {"label": "Available Option 2", "value": "3"}
      ]'
    ></lc-select>
  </section>

  <!-- Complete Form Example -->
  <section class="demo-section">
    <h2 class="demo-section__title">Complete Form</h2>
    <p class="demo-section__description">
      Full form with validation orchestration and submission handling.
    </p>

    <lc-form
      id="contact-form"
      action="/api/contact"
      method="post"
      prevent-default
      submit-text="Send Message"
    >
      <div class="form-row">
        <lc-input
          name="firstName"
          label="First Name"
          placeholder="John"
          required
        ></lc-input>

        <lc-input
          name="lastName"
          label="Last Name"
          placeholder="Doe"
          required
        ></lc-input>
      </div>

      <lc-input
        name="email"
        type="email"
        label="Email Address"
        placeholder="john@example.com"
        required
        icon-left="envelope"
      ></lc-input>

      <lc-input
        name="phone"
        type="tel"
        label="Phone Number"
        placeholder="+1 (555) 123-4567"
        icon-left="phone"
      ></lc-input>

      <lc-select
        name="subject"
        label="Subject"
        placeholder="Select a subject"
        required
        options='[
          {"label": "General Inquiry", "value": "general"},
          {"label": "Technical Support", "value": "support"},
          {"label": "Sales", "value": "sales"},
          {"label": "Partnership", "value": "partnership"},
          {"label": "Other", "value": "other"}
        ]'
      ></lc-select>

      <lc-textarea
        name="message"
        label="Message"
        placeholder="How can we help you?"
        required
        minlength="20"
        maxlength="500"
        rows="5"
      ></lc-textarea>

      <lc-checkbox
        name="newsletter"
        value="yes"
        label="Subscribe to our newsletter"
      ></lc-checkbox>

      <lc-checkbox
        name="terms"
        value="accepted"
        label="I agree to the terms and conditions"
        required
      ></lc-checkbox>
    </lc-form>

    <div class="demo-output" id="form-output">
      <div class="demo-output__title">Form Data:</div>
      <div class="demo-output__content" id="form-data">Submit the form to see data here</div>
    </div>
  </section>

  <!-- Event Listeners and Interactions -->
  <script type="module">
    // Form submission handler
    document.getElementById('contact-form')?.addEventListener('lc-form-submit', (event) => {
      console.log('Form submitted:', event.detail.formData);

      // Show form data in output
      const outputDiv = document.getElementById('form-data');
      if (outputDiv) {
        outputDiv.textContent = JSON.stringify(event.detail.formData, null, 2);
      }

      // Simulate async submission
      const form = event.detail.form;
      setTimeout(() => {
        form.setSubmitting(false);
        form.showSuccess('Message sent successfully!');
      }, 2000);
    });

    // Log all form field events
    document.addEventListener('lc-input-change', (e) => {
      console.log('Input changed:', e.detail.name, e.detail.value);
    });

    document.addEventListener('lc-textarea-change', (e) => {
      console.log('Textarea changed:', e.detail.name, e.detail.value);
    });

    document.addEventListener('lc-checkbox-change', (e) => {
      console.log('Checkbox changed:', e.detail.name, e.detail.checked);
    });

    document.addEventListener('lc-radio-change', (e) => {
      console.log('Radio changed:', e.detail.name, e.detail.value);
    });

    document.addEventListener('lc-select-change', (e) => {
      console.log('Select changed:', e.detail.name, e.detail.value);
    });

    // Validation events
    document.addEventListener('lc-input-invalid', (e) => {
      console.log('Input invalid:', e.detail.name);
    });

    document.addEventListener('lc-input-valid', (e) => {
      console.log('Input valid:', e.detail.name);
    });

    document.addEventListener('lc-form-valid', (_e) => {
      console.log('Form is valid');
    });

    document.addEventListener('lc-form-invalid', (_e) => {
      console.log('Form is invalid');
    });
  </script>
</body>
</html>
